---
import IndexLayout from '../layouts/IndexLayout.astro'
import SymbolDashboard from '../components/dashboards/SymbolDashboard.vue'
import { z } from 'zod'
import { symbolSchema } from '../types/symbol'

export const requestSchema = z.object({
  params: z.object({
    symbol: symbolSchema,
  }),
})

const { params } = requestSchema.parse(Astro)
const symbol = params.symbol
---

<IndexLayout>
  <header>
    <h1>{symbol.label}</h1>
    <SymbolDashboard symbol={symbol.key} client:load />
  </header>
</IndexLayout>
